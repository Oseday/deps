<html lang="en">
	<link type="text/css" rel="stylesheet" id="dark-mode-general-link">
	<link type="text/css" rel="stylesheet" id="dark-mode-custom-link">

	<style type="text/css" id="dark-mode-custom-style"></style>
	<head>
		<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
		<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="https://verbipati.org/manifest.webmanifest">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
		<meta name="theme-color" content="#ffffff">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-title" content="VerBiPati">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="application-name" content="VerBiPati">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="VerBiPati web app for dogs and cats">

		<script type="module" src="/pwabuilder-sw-register.js"></script>

		<!-- Bootstrap core CSS -->
		<link href="https://verbipati.org/bootstrap.min.css" rel="stylesheet">

		<meta name="theme-color" content="#563d7c">

		<style type="text/css">
			* { box-sizing: border-box; }

			.grid:after {
			  content: '';
			  display: block;
			  clear: both;
			}

			.grid-sizer,
			.grid-item {
			  width: 25%;
			}
			@media (max-width: 360px) {
			  .grid-sizer,
			  .grid-item {
				width: 50%;
			  }
			}
			@media (min-width: 361px) and (max-width: 890px) {
			  .grid-sizer,
			  .grid-item {
				width: 33.333%;
			  }
			}

			.grid-item {
			  float: left;
			}

			.grid-item img {
			  display: block;
			  max-width: 100%;
			}
		</style>

	</head>


	<body class="text-center" style="overflow-y: scroll" data-gr-c-s-loaded="true">
		<div class="container">
			<title>VerBiPati Fotoğraf Kataloğu</title>
			<h1 class="text-center" id="greet">Fotoğraf Kataloğu</h1>
			<div class="row justify-content-md-center">
				<div class="col" align="center">
					<div class="row">
						<div class="col-12" id="lists">
							<div>
								<h3 class="text-center">Buddy</h3>
								<div class="container-fluid">
								  	<div class="grid">
										<div class="grid-sizer"></div>
										<div class="grid-item"> <img src="https://placekitten.com/500/810" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/451/723" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/510" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1410" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/560" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/1591/2410" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1211" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/530" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/500/860" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/451/703" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1010" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/521" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1212" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/501" alt="Responsive image"></img> </div>
									</div>
								</div>
							</div>
							<div>
								<h3 class="text-center">Buddy</h3>
								<div class="container-fluid">
								  	<div class="grid">
										<div class="grid-sizer"></div>
										<div class="grid-item"> <img src="https://placekitten.com/500/810" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/451/723" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/510" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1410" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/560" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/1591/2410" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1211" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/530" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/500/860" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/451/703" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1010" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/521" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/791/1212" alt="Responsive image"></img> </div>
										<div class="grid-item"> <img src="https://placekitten.com/900/501" alt="Responsive image"></img> </div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="https://verbipati.org/jquery.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/javascript.util/0.12.12/javascript.util.min.js" type="text/javascript"></script>
	<script src="https://verbipati.org/jscookies.js" type="text/javascript"></script>
	<script src="https://verbipati.org/getbrowser.js" type="text/javascript"></script>
	<script src="https://unpkg.com/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			var $grid = $('.grid').masonry({
			  itemSelector: '.grid-item',
			  percentPosition: true,
			  columnWidth: '.grid-sizer'
			});
			$grid.masonry();




			let hrefsplit = window.location.href.split("/")
			let locname = hrefsplit[hrefsplit.length-1]
			console.log(locname)
			
			async function SavePhoto(inp) {
				for (var i = inp.files.length - 1; i >= 0; i--) {
					try {
						let formData = new FormData();
						formData.append("photo", inp.files[i]);
						let r = await fetch('https://verbipati.org/photos/test', {method: "POST", body: formData}); 
						console.log('Upload HTTP response code:',r.status); 
					} catch(e) {
						console.log('error:', e);
					}
				}
			}



			var locationDataP;

			function GetLocText(rowData,coords) {
				let locationName = rowData[0]
				let details = rowData[5]

				return `<d>${locationName}<i><small>  ${details} </small></i></d>`
			}

			function UpdateForm(data,coords){
				//console.log(data)
				$("#lists").empty();
				locationDataP = data;
				for(let [rowId, rowData] of Object.entries(data)){


					console.log(rowId)
					console.log(rowData)

					//let stradd = GetLocText(rowData,coords)
					/*for (var i = rowData.length - 1; i >= 0; i--) {
						rowData[i]
						let sp = "";

					}
					$("#lists").append(
						`<li class="list-group-item d-flex align-items-center list-group-item-dark" id="${rowData[0]}">
							${stradd}
						</li>`
					)*/
				}
				
				$(".list-group-item").click(function(){
					console.log(this.id);
					href = `/photos/${this.id}`;
				})
			}

			$.post(`https://verbipati.org/photosmeta/${locname}`).done(function(data) {
				UpdateForm(data)
			}).fail(function(){
				//document.location.href = "/viewer";
			})


		});
	</script>


</html>